/*1.7.18*/
(function(b){var a={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};b.zoom=function(B,j,w,p){var A,y,z,g,k,o,C,v=b(B),q=v.css("position"),x=b(j);return B.style.position=/(absolute|fixed)/.test(q)?q:"relative",B.style.overflow="hidden",w.style.width=w.style.height="",b(w).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:w.width*p,height:w.height*p,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(B),{init:function(){y=v.outerWidth(),A=v.outerHeight(),j===B?(g=y,z=A):(g=x.outerWidth(),z=x.outerHeight()),k=(w.width-y)/g,o=(w.height-A)/z,C=x.offset()},move:function(d){var c=d.pageX-C.left,e=d.pageY-C.top;e=Math.max(Math.min(e,z),0),c=Math.max(Math.min(c,g),0),w.style.left=c*-k+"px",w.style.top=e*-o+"px"}}},b.fn.zoom=function(c){return this.each(function(){var n=b.extend({},a,c||{}),j=n.target&&b(n.target)[0]||this,q=this,o=b(q),p=document.createElement("img"),d=b(p),g="mousemove.zoom",h=!1,t=!1;if(!n.url){var k=q.querySelector("img");if(k&&(n.url=k.getAttribute("data-src")||k.currentSrc||k.src),!n.url){return}}o.one("zoom.destroy",function(f,e){o.off(".zoom"),j.style.position=f,j.style.overflow=e,p.onload=null,d.remove()}.bind(this,j.style.position,j.style.overflow)),p.onload=function(){function e(f){i.init(),i.move(f),d.stop().fadeTo(b.support.opacity?n.duration:0,1,b.isFunction(n.onZoomIn)?n.onZoomIn.call(p):!1)}function l(){d.stop().fadeTo(n.duration,0,b.isFunction(n.onZoomOut)?n.onZoomOut.call(p):!1)}var i=b.zoom(j,q,p,n.magnify);"grab"===n.on?o.on("mousedown.zoom",function(f){1===f.which&&(b(document).one("mouseup.zoom",function(){l(),b(document).off(g,i.move)}),e(f),b(document).on(g,i.move),f.preventDefault())}):"click"===n.on?o.on("click.zoom",function(f){return h?void 0:(h=!0,e(f),b(document).on(g,i.move),b(document).one("click.zoom",function(){l(),h=!1,b(document).off(g,i.move)}),!1)}):"toggle"===n.on?o.on("click.zoom",function(f){h?l():e(f),h=!h}):"mouseover"===n.on&&(i.init(),o.on("mouseenter.zoom",e).on("mouseleave.zoom",l).on(g,i.move)),n.touch&&o.on("touchstart.zoom",function(f){f.preventDefault(),t?(t=!1,l()):(t=!0,e(f.originalEvent.touches[0]||f.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(f){f.preventDefault(),i.move(f.originalEvent.touches[0]||f.originalEvent.changedTouches[0])}).on("touchend.zoom",function(f){f.preventDefault(),t&&(t=!1,l())}),b.isFunction(n.callback)&&n.callback.call(p)},p.src=n.url})},b.fn.zoom.defaults=a})(window.jQuery);