var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(h,r,f){h!=Array.prototype&&h!=Object.prototype&&(h[r]=f.value)};$jscomp.getGlobal=function(h){return"undefined"!=typeof window&&window===h?h:"undefined"!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(h){return $jscomp.SYMBOL_PREFIX+(h||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var h=$jscomp.global.Symbol.iterator;h||(h=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[h]&&$jscomp.defineProperty(Array.prototype,h,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(h){var r=0;return $jscomp.iteratorPrototype(function(){return r<h.length?{done:!1,value:h[r++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(h){$jscomp.initSymbolIterator();h={next:h};h[$jscomp.global.Symbol.iterator]=function(){return this};return h};$jscomp.iteratorFromArray=function(h,r){$jscomp.initSymbolIterator();h instanceof String&&(h+="");var f=0,l={next:function(){if(f<h.length){var n=f++;return{value:r(n,h[n]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};
$jscomp.polyfill=function(h,r,f,l){if(r){f=$jscomp.global;h=h.split(".");for(l=0;l<h.length-1;l++){var n=h[l];n in f||(f[n]={});f=f[n]}h=h[h.length-1];l=f[h];r=r(l);r!=l&&null!=r&&$jscomp.defineProperty(f,h,{configurable:!0,writable:!0,value:r})}};$jscomp.polyfill("Array.prototype.keys",function(h){return h?h:function(){return $jscomp.iteratorFromArray(this,function(h){return h})}},"es6-impl","es3");
$jscomp.findInternal=function(h,r,f){h instanceof String&&(h=String(h));for(var l=h.length,n=0;n<l;n++){var w=h[n];if(r.call(f,w,n,h))return{i:n,v:w}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(h){return h?h:function(h,f){return $jscomp.findInternal(this,h,f).v}},"es6-impl","es3");
(function(h){function r(d){function c(a){var b="",g;for(g in a)b+=a[g];document.body.insertAdjacentHTML("beforeend",b);d&&d()}if(f.Forms.LayoutPart.init)d&&d();else{var a=function(){if(themifyBuilder.debug)return!1;try{var a=localStorage.getItem("tb_visual_templates"),k="";if(!a)return!1;var a=JSON.parse(a),g;for(g in themifyBuilder.modules)k+=g;return a.ver.toString()!==tbLocalScript.version.toString()||a.h!==Themify.hash(k)?!1:a.val}catch(e){}return!1}();a?c(a):h.ajax({type:"POST",url:themifyBuilder.ajaxurl,
dataType:"json",data:{action:"tb_load_visual_templates",tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){if(a){c(a);try{var b="",g;for(g in themifyBuilder.modules)b+=g;var e={val:a,ver:tbLocalScript.version,h:Themify.hash(b)};localStorage.setItem("tb_visual_templates",JSON.stringify(e))}catch(p){}}}})}}var f=themifybuilderapp,l=[],n=[];f.mode="visual";f.iframe="";f.VisualCache=[];f.id="";f.Mixins.Frontend={render_visual:function(){var d=[],c=[],a=this.el.querySelectorAll("[data-cid]"),
a=Array.prototype.slice.call(a);a.unshift(this.el);for(var b=0,k=a.length;b<k;++b){var g=f.Models.Registry.lookup(a[b].getAttribute("data-cid"));if(g){var e=g.get("elType"),p=g.get("module"===e?"mod_settings":"styling"),q=g.cid;d.push({jobID:q,data:g.toJSON()});p&&0<Object.keys(p).length&&c.push({type:"module"===e?g.get("mod_name"):e,cid:q,data:p})}}f.liveStylingInstance.setNewRules(c);return f.render_element(d)},addClass:function(){this.el.className+=" "+f.VisualCache[this.model.cid]},change_callback:function(){var d=
this.$el;d[0].insertAdjacentHTML("afterbegin",'<span class="sp-preloader tb_preview_component"></span>');this.render_visual().done(function(){d.find(".tb_preview_component").remove();f.Utils.setCompactMode(d[0].getElementsByClassName("module_column"));var c="row"===f.eventName?d.data("cid"):f.beforeEvent.data("cid");f.undoManager.push(c,f.beforeEvent,d,f.eventName);f.Mixins.Builder.update(d);"row"===f.eventName&&f.vent.trigger("dom:builder:change")})},createEl:function(d){var c=this.model.get("elType"),
a=document.createElement("div");a.innerHTML=d;var b=a.getElementsByClassName("module_"+c)[0],k=b.classList,g=b.attributes;f.VisualCache[this.model.cid]&&(this.el.className+=" "+f.VisualCache[this.model.cid]);d=0;for(a=k.length;d<a;++d)this.el.classList.add(k[d]);d=0;for(a=g.length;d<a;++d)"id"!==g[d].name&&"class"!==g[d].name&&(k=g[d].name,this.el.setAttribute(k,g[d].value),0===k.indexOf("data-")&&this.$el.data(k.replace("data-",""),g[d].value));k=b.getElementsByClassName("builder_row_cover")[0];
g=b.getElementsByClassName(c+"-slider")[0];b=b.getElementsByClassName("tb_row_frame");if(0<b.length){var e=document.createDocumentFragment(),p=this.el.getElementsByClassName("tb_row_frame");d=0;for(a=p.length;d<a;++d)p[d].parentNode.removeChild(p[d]);d=0;for(a=b.length;d<a;++d)e.appendChild(b[d].cloneNode());this.el.insertBefore(e,this.el.firstChild)}k&&((d=this.el.getElementsByClassName("builder_row_cover")[0])?this.el.replaceChild(k,d):this.el.insertAdjacentElement("afterbegin",k));g&&((c=this.el.getElementsByClassName(c+
"-slider")[0])?this.el.replaceChild(g,c):this.el.insertAdjacentElement("afterbegin",g))},restoreHtml:function(d){var c="module"===f.activeModel.get("elType")?h(".tb_element_cid_"+f.activeModel.cid):f.liveStylingInstance.$liveStyledElmt;if(0<c.length){var a=d[0].querySelectorAll("[data-cid]"),a=Array.prototype.slice.call(a);a.unshift(d[0]);for(var b=0,k=a.length;b<k;++b){var g=f.Models.Registry.lookup(a[b].getAttribute("data-cid"));g&&g.trigger("change:view",a[b])}c.replaceWith(d);f.Mixins.Builder.update(d)}}};
f.previewVisibility=function(){var d="row"===this.model.get("elType")?this.$el:this.$el.find(".module"),c="row"===this.model.get("elType")?this.model.get("styling"):this.model.get("mod_settings");if(f.isPreview){"hide_all"===c.visibility_all?d.addClass("hide-all"):("hide"===c.visibility_desktop&&d.addClass("hide-desktop"),"hide"===c.visibility_tablet&&d.addClass("hide-tablet"),"hide"===c.visibility_mobile&&d.addClass("hide-mobile"));var a=!1;_.isEmpty(c.custom_parallax_scroll_speed)||(a=!0,d[0].dataset.parallaxElementSpeed=
parseInt(c.custom_parallax_scroll_speed));_.isEmpty(c.custom_parallax_scroll_reverse)||(d[0].dataset.parallaxElementReverse=!0);_.isEmpty(c.custom_parallax_scroll_fade)||(d[0].dataset.parallaxFade=!0);_.isEmpty(c.custom_parallax_scroll_zindex)||(d[0].style.zIndex=c.custom_parallax_scroll_zindex);a&&ThemifyBuilderModuleJs.parallaxScrollingInit(d,!0)}else d.removeClass("hide-desktop hide-tablet hide-mobile hide-all"),_.isEmpty(c.custom_parallax_scroll_speed)||Rellax.destroy(d[0].dataset.rellaxIndex)};
_.extend(f.Views.BaseElement.prototype,f.Mixins.Frontend);f.Views.register_row({initialize:function(){this.listenTo(this.model,"addClass",this.addClass);this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml);f.vent.on("dom:preview",f.previewVisibility.bind(this))}});f.Views.register_subrow({initialize:function(){this.listenTo(this.model,"addClass",this.addClass);this.listenTo(this.model,
"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)}});f.Views.register_column({initialize:function(){this.listenTo(this.model,"addClass",this.addClass);this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)}});f.Views.register_module({is_ajax_call:!1,_jqueryXhr:!1,
templateVisual:function(d){return wp.template("builder-"+this.model.get("mod_name")+"-content")(d)},attributes:function(){var d=this.model.get("mod_settings");return{"class":"tb_module_front active_module tb_element_cid_"+this.model.cid+("hide_all"===d.visibility_all||"hide"===d.visibility_desktop||"hide"===d.visibility_tablet||"hide"===d.visibility_mobile?" tb_visibility_hidden":""),"data-cid":this.model.cid,"data-id":this.model.get("element_id")}},initialize:function(){this.listenTo(this.model,
"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml);this.listenTo(this.model,"custom:preview:live",this.previewLive);this.listenTo(this.model,"custom:preview:refresh",this.previewReload);f.vent.on("dom:preview",f.previewVisibility.bind(this))},createEl:function(d){var c=this.model.get("mod_name"),a=document.createElement("div");a.innerHTML=d;d=a.getElementsByClassName("module")[0];this.el.innerHTML=
ThemifyBuilderCommon.templateCache.get("tmpl-builder_visual_module_item")+d.innerHTML;this.el.getElementsByClassName("tb_data_mod_name")[0].innerHTML=c;d=d.attributes;this.el.className=this.attributes()["class"];for(var a=0,b=d.length;a<b;++a)if("class"===d[a].name)this.el.className+=" "+d[a].value;else{var k=d[a].name;this.el.setAttribute(k,d[a].value);0===k.indexOf("data-")&&this.$el.data(k.replace("data-",""),d[a].value)}f.VisualCache[this.model.cid]&&this.el.classList.add(f.VisualCache[this.model.cid]);
"layout-part"===c&&f.Forms.LayoutPart.insertSwap(this.el)},shortcodeToHTML:function(d){function c(b){void 0!==a._shortcodeXhr&&4!==a._shortcodeXhr&&a._shortcodeXhr.abort();a._shortcodeXhr=h.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_render_element_shortcode",shortcode_data:JSON.stringify(b),tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(b){if(b.success){var e=b.data.shortcodes,k=b.data.styles;if(k){b=0;for(var g=k.length;b<g;++b)Themify.LoadCss(k[b].s,
k[b].v,null,k[b].m)}b=0;for(g=e.length;b<g;++b)k=Themify.hash(e[b].key),a.$el.find(".tmp"+k).replaceWith(e[b].html),l[k]=e[b].html,Themify.is_builder_loaded&&f.Utils.loadContentJs(a.$el,"module")}}})}for(var a=this,b=[],k=!1,g=themifyBuilder.available_shortcodes,e=0,p=g.length;e<p;++e)d=wp.shortcode.replace(g[e],d,function(a){a=wp.shortcode.string(a);var e=Themify.hash(a);void 0===l[e]?(b.push(a),a='<span class="tmp'+e+'">[loading shortcode...]</span>'):a=l[e];k=!0;return a});k&&0<b.length&&c(b);
return{content:d,found:k}},previewLive:function(d,c,a,b,k,g){this.is_ajax_call=!1;this._jqueryXhr&&4!==this._jqueryXhr&&this._jqueryXhr.abort();var e=void 0!==b&&f.activeModel.cid&&k,p=300;e&&(b=this.$el.find(b),0===b.length?e=!1:g.data("control-repeater")&&(b=b.eq(g.closest(".tb_repeatable_field").index()),0===b.length&&(e=!1)));d.cid=a?a:f.activeModel.cid;if(!e||!0===c){var q=this.templateVisual(d);if(this.is_ajax_call)return;!0===c&&(d=this.shortcodeToHTML(q),d.found&&(p=1E3,q=d.content,e=!1))}if(e)b.html(k);
else if(this.createEl(q),!a){f.liveStylingInstance.$liveStyledElmt=this.$el;var m=this;this.timeout&&clearTimeout(this.timeout);this.timeout=setTimeout(function(){f.Utils.loadContentJs(m.$el,"module")},p)}},previewReload:function(d,c,a,b){function k(a){g.createEl(a);f.liveStylingInstance.$liveStyledElmt=g.$el;f.Utils.loadContentJs(g.$el,"module");g.$el.find(".tb_preview_component").remove()}if(void 0!==c&&f.activeModel.cid&&a&&(c=this.$el.find(c),0<c.length)){b.data("control-repeater")&&(c=c.eq(b.closest(".tb_repeatable_field").index()));
c.html(a);return}var g=this;this._jqueryXhr&&4!==this._jqueryXhr&&this._jqueryXhr.abort();this.is_ajax_call=!0;c=this.model.get("mod_name");a=d.unsetKey;g.el.insertAdjacentHTML("afterbegin",'<span class="tb_preview_component sp-preloader"></span>');delete d.cid;d.unsetKey;d=f.Utils.clear(d);d["module_"+c+"_slug"]=c;d=JSON.stringify(d);var e=Themify.hash(d);a&&delete n[e];if(void 0!==n[e]&&void 0!==n[e].data)d=n[e].cid,this.model.cid!==d&&(n[e].data=n[e].data.replace(new RegExp(c+"-"+d+"-"+d,"g"),
c+"-"+this.model.cid+"-"+this.model.cid),n[e].cid=this.model.cid),k(n[e].data);else return n[e]={},this._jqueryXhr=h.ajax({type:"POST",url:themifyBuilder.ajaxurl,data:{action:"tb_load_module_partial",tb_post_id:this.$el.closest(".themify_builder_content").data("postid"),tb_cid:this.model.cid,tb_module_slug:c,tb_module_data:d,tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){n[e].data=a;n[e].cid=g.model.cid;k(a)},error:function(){g.$el.removeClass("tb_preview_loading")}}),this}});f.bootstrap=
function(d,c){var a=[],b=d?!0:!1,k=[];d||(d=f.Models.Registry.items);for(var g in d){var e=f.Models.Registry.items[g],p=e.toJSON(),q=p.elType,m=p["module"===q?"mod_settings":"styling"];if(m&&0<Object.keys(m).length)!0===b&&k.push({type:"module"===q?p.mod_name:q,cid:g,data:m});else if("module"!==q){f.VisualCache[g]&&e.trigger("addClass");continue}"module"===q&&"tile"!==p.mod_name&&"ajax"!==themifyBuilder.modules[p.mod_name].type?e.trigger("custom:preview:live",p.mod_settings,"accordion"===p.mod_name||
"box"===p.mod_name||"feature"===p.mod_name||"tab"===p.mod_name||"text"===p.mod_name||"plain-text"===p.mod_name||"pointers"===p.mod_name||"pro-image"===p.mod_name||"countdown"===p.mod_name||"button"===p.mod_name||"pro-slider"===p.mod_name||"timeline"===p.mod_name,g):("column"===q?delete p.modules:"row"!==q&&"module"!==q&&"subrow"!==q||delete p.cols,a.push({jobID:g,data:p}))}!0===b&&f.liveStylingInstance.setNewRules(k);this.batch_rendering(a,0,360,c)};f.batch_rendering=function(d,c,a,b){if(c>=d.length)h.isFunction(b)&&
b.call(this);else{var k=d.slice(c,c+a);this.render_element(k).done(function(){f.batch_rendering(d,c+=a,a,b);f.toolbar.pageBreakModule.countModules()})}};f.render_element=function(d){return h.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_render_element",batch:JSON.stringify(d),tb_load_nonce:themifyBuilder.tb_load_nonce,tb_post_id:themifyBuilder.post_ID},success:function(d){for(var a in d)f.Models.Registry.lookup(a).trigger("create:element",d[a])}})};f.render=function(){r(function(){for(var d=
[document.getElementById("themify_builder_content-"+themifyBuilder.post_ID)],c=0;1>c;++c){var a=d[c].dataset.postid,b=window["builderdata_"+a]?window["builderdata_"+a].data:[],b=0===b.length?{}:b.filter(function(a){return 0<Object.keys(a).length});window["builderdata_"+a]=null;f.id=a;f.Instances.Builder[c]=new f.Views.Builder({el:"#themify_builder_content-"+a,collection:new f.Collections.Rows(b),type:f.mode});f.Instances.Builder[c].render();f.bootstrap(null,function(){f.toolbar.el.style.display="block";
window.top.jQuery("body").trigger("themify_builder_ready");f.Utils.loadContentJs();top_iframe.body.insertAdjacentHTML("beforeend",themifyBuilder.data);themifyBuilder.data=null;Themify.is_builder_loaded=!0;f.vent.trigger("dom:builder:init",!0)})}f.id=!1})};Themify.body.one("builderiframeloaded.themify",function(d,c){f.iframe=h(c);setTimeout(function(){Themify.LoadCss(tbLocalScript.builder_url+"/css/animate.min.css")},1);f.toolbar=new f.Views.Toolbar({el:"#tb_toolbar"});f.toolbar.render();setTimeout(function(){f.liveStylingInstance=
new w;f.liveStylingInstance.getRules()},50);setTimeout(function(){f.render()},1);setTimeout(function(){f.Views.bindEvents()},1);f.Forms.bindEvents()});var w=function(d){function c(){this.$context=d("#tb_lightbox_parent",top_iframe);this.group=this.type=this.prefix=this.isInit=!1;this.styleName="tb_component_customize";this.style_tab="#tb_options_styling";this.generatedPrefix=[];this.generatedCache=[];this.module_rules=[];this.rulesCache=[];this.tempData=[];this.prevData=[];this.undoData=[];this.currentSheet=
null;var a=this;setTimeout(function(){a.InitInlineStyles();a.initModChange();a.before_close();a.bindLightboxForm()},1);this.bp_reverse=Object.keys(themifyBuilder.breakpoints).reverse()}c.prototype.InitInlineStyles=function(){var a='<style type="text/css" id="'+this.styleName+'-desktop"></style>',b;for(b in themifyBuilder.breakpoints)var k=f.Utils.getBPWidth(b)+"px",a=a+('<style media="screen and (max-width:'+k+')" type="text/css" id="'+this.styleName+"-"+b+'"></style>');document.body.insertAdjacentHTML("beforeend",
a)};c.prototype.init=function(a){this.type=f.activeModel.get("elType");this.$liveStyledElmt=d(".tb_element_cid_"+f.activeModel.cid);this.prefix=".themify_builder .tb_element_cid_"+f.activeModel.cid;"module"===this.type?this.group=f.activeModel.get("mod_name"):("row"!==this.type&&"sub-column"!==f.activeModel.get("component_name")&&(this.prefix=".themify_builder_content"+this.prefix),this.group=this.type);this.currentStyleObj="object"===typeof a?a:{};this.tempData=[];this.undoData=[];this.undoData[f.activeBreakPoint]=
[];this.tempData[f.activeBreakPoint]=[];this.rulesCache[f.activeBreakPoint]||(this.rulesCache[f.activeBreakPoint]=[]);this.currentSheet=this.getSheet(f.activeBreakPoint);this.isInit=!0};c.prototype.getRules=function(){var a=function(){if(themifyBuilder.debug)return!1;try{var a=localStorage.getItem("tb_rules"),b="";if(!a)return!1;var a=JSON.parse(a),e;for(e in themifyBuilder.modules)b+=e;return a.ver.toString()!==tbLocalScript.version.toString()||a.h!==Themify.hash(b)?!1:JSON.parse(a.val)}catch(p){}return!1}();
if(a)this.module_rules=a;else{var b=this;d.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_load_rules",tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){if(a){b.module_rules=a;try{var k="",e;for(e in themifyBuilder.modules)k+=e;var d={val:JSON.stringify(a),ver:tbLocalScript.version,h:Themify.hash(k)};localStorage.setItem("tb_rules",JSON.stringify(d))}catch(q){}}}})}};c.prototype.setNewRules=function(a){if(!f.Forms.LayoutPart.init){var b=this;return d.ajax({type:"POST",
url:themifyBuilder.ajaxurl,dataType:"json",data:{data:JSON.stringify(a),action:"tb_set_newrules",tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){if(a){a.fonts&&(ThemifyBuilderCommon.loadGoogleFonts(a.fonts),delete a.fonts);for(var g in a)for(var e=b.getSheet(g),k=e.cssRules?e.cssRules:e.rules,f=0,c=a[g].length;f<c;++f)a[g][f]=d.trim(a[g][f]),a[g][f]&&e.insertRule(a[g][f],k.length)}}})}};c.prototype.setLiveStyle=function(a,b,d){function g(a,b){for(var e=0,d=a.length;e<d;++e)if(b===
a[e].selectorText)return e;return!1}var e;d||(d=[""]);var k="";var c=this.currentSheet.cssRules?this.currentSheet.cssRules:this.currentSheet.rules;var m=0;for(e=d.length;m<e;++m)k+=this.prefix+d[m],m!==e-1&&(k+=",");var k=k.replace(/\s{2,}/g," ").replace(/\s*>\s*/g,">"),h=Themify.hash(k),n=b;e=void 0!==this.rulesCache[f.activeBreakPoint][h]?this.rulesCache[f.activeBreakPoint][h]:g(c,k);!1===b&&(b="");var x=a;a=function(a){if(-1!==a.indexOf("-")){var b=a.toLowerCase().split("-");a=b[0]+b[1].charAt(0).toUpperCase()+
b[1].slice(1);b[2]&&(a+=b[2].charAt(0).toUpperCase()+b[2].slice(1))}return a}(a);!1!==e&&c[e]?(void 0===this.undoData[f.activeBreakPoint][e]&&(this.undoData[f.activeBreakPoint][e]=[]),void 0===this.undoData[f.activeBreakPoint][e][a]&&(this.undoData[f.activeBreakPoint][e][a]=c[e].style[a]),c[e].style[a]=b):(e=c.length,this.currentSheet.insertRule(k+"{"+x+":"+b+";}",e),this.undoData[f.activeBreakPoint][e]=[],this.undoData[f.activeBreakPoint][e][a]=this.removeGenerated(k,a,e,f.activeBreakPoint,!1));
this.rulesCache[f.activeBreakPoint][h]=e;void 0===this.tempData[f.activeBreakPoint][e]&&(this.tempData[f.activeBreakPoint][e]=[]);this.tempData[f.activeBreakPoint][e][a]=b;if(""===n)this.removeGenerated(k,a,e,f.activeBreakPoint,!0);else{var l=e,u;for(u in this.bp_reverse){if(this.bp_reverse[u]===f.activeBreakPoint)break;m=this.bp_reverse[u];void 0===this.undoData[m]&&(this.undoData[m]=[]);void 0===this.undoData[m][l]&&(this.undoData[m][l]=[]);var v=this.removeGenerated(k,a,e,m,!0);v&&(d=this.getSheet(m),
c=d.cssRules?d.cssRules:d.rules,e=void 0!==this.rulesCache[m]&&void 0!==this.rulesCache[m][h]?this.rulesCache[m][h]:g(c,k),!1!==e&&c[e]?c[e].style[a]=b:(e=c.length,d.insertRule(k+"{"+x+":"+v+";}",e)),delete this.undoData[m][l],this.prevData[f.activeModel.cid][m][l],void 0===this.undoData[m][e]&&(this.undoData[m][e]=[]),this.undoData[m][e][a]=v,void 0===this.rulesCache[m]&&(this.rulesCache[m]=[]),void 0===this.tempData[m]&&(this.tempData[m]=[]),this.prevData[f.activeModel.cid][m][e]=[],this.prevData[f.activeModel.cid][m][e][a]=
v,this.rulesCache[m][h]=e,void 0===this.tempData[m][e]&&(this.tempData[m][e]=[]),this.tempData[m][e][a]=b)}}Themify.body.trigger("tb_"+this.type+"_styling",[this.group,a,b,n,this.$liveStyledElmt])};c.prototype.initModChange=function(){var a=this;Themify.body.on("themify_builder_change_mode",function(b,d,g){a.isInit&&(void 0===a.tempData[g]&&(a.tempData[g]=[]),void 0===a.rulesCache[g]&&(a.rulesCache[g]=[]),void 0===a.undoData[g]&&(a.undoData[g]=[]),a.currentSheet=a.getSheet(g))})};c.prototype.revertRules=
function(a,b){a=a||f.activeModel.cid;var d=void 0!==this.prevData[a]?this.prevData[a]:!1,g;for(g in this.tempData){var e=this.getSheet(g),e=e.cssRules?e.cssRules:e.rules,c;for(c in this.tempData[g])if(e[c])for(var q in this.tempData[g][c]){var m="";void 0===b&&d&&void 0!==d[g]&&void 0!==d[g][c]&&void 0!==d[g][c][q]&&(m=d[g][c][q]);e[c].style[q]=m}}this.undoData=[];this.tempData=[]};c.prototype.removeGenerated=function(a,b,d,g,e){function k(a,b,e){for(var d=0,g=a.length;d<g;++d)if(b===a[d].type)if(!1!==
e&&-1!==a[d].conditionText.indexOf(e)){var f=k(a[d].cssRules?a[d].cssRules:a[d].rules,CSSRule.STYLE_RULE,!1);if(void 0!==f)return[d,f]}else if(!1===e&&r.generatedPrefix[m][n]===a[d].selectorText.replace(/\s{2,}/g," ").replace(/\s*\,\s*/g,",").replace(/\s*>\s*/g,">"))return d}var c,m=f.activeModel.cid;e=e||!0;if(void 0!==f.VisualCache[m]){var h=this.$liveStyledElmt.closest(".themify_builder_content").data("postid");if(c=(c=null!==f.Forms.LayoutPart.el)?f.Forms.LayoutPart.el.children(".themify-builder-generated-css")[0]:
document.getElementById("themify-builder-"+h+"-generated-css")){c=c.sheet;c=c.cssRules?c.cssRules:c.rules;var n=Themify.hash(a);if(void 0===this.generatedPrefix[m]||void 0===this.generatedPrefix[m][n]){h="";if("column"===this.type&&"sub-column"!==f.activeModel.get("component_name")){var l=this.$liveStyledElmt.closest(".module_row").data("cid");void 0!==f.VisualCache[l]&&(h=f.VisualCache[l].split(" ")[1])}else"subrow"===this.type?(l=this.$liveStyledElmt.closest(".module_column"),void 0!==f.VisualCache[l.data("cid")]&&
(h=f.VisualCache[l.data("cid")].split(" ")[0],l=l.closest(".module_row").data("cid"),h=void 0!==f.VisualCache[l]?f.VisualCache[l].split(" ")[1]+" ."+h:"")):"module"===this.type&&(h="themify_builder");""!==h&&(h="."+h+" ");h=h+"."+f.VisualCache[m].replace(" ",".");l=new RegExp(this.prefix,"ig");void 0===this.generatedPrefix[m]&&(this.generatedPrefix[m]=[]);this.generatedPrefix[m][n]=a.replace(l,h).replace(/\s{2,}/g," ").replace(/\s*\,\s*/g,",").replace(/\s*>\s*/g,">")}}else{delete f.VisualCache[m];
this.generatedPrefix[m];return}}var r=this;a="";if(void 0!==this.generatedPrefix[m]&&void 0!==this.generatedPrefix[m][n]){void 0===this.generatedCache[g]&&(this.generatedCache[g]=[]);l=CSSRule.STYLE_RULE;var u=Themify.hash(this.generatedPrefix[m][n]);h=this.generatedCache[g][u];var v=!1;void 0===h&&("desktop"!==g&&(v=f.Utils.getBPWidth(g)+"px",l=CSSRule.MEDIA_RULE),this.generatedCache[g][u]=k(c,l,v),h=this.generatedCache[g][u]);void 0!==h&&(void 0!==h[1]?(c=c[h[0]].cssRules?c[h[0]].cssRules:c[h[0]].rules,
a=c[h[1]].style[b],e&&(c[h[1]].style[b]="")):"desktop"===g&&(a=c[h].style[b],e&&(c[h].style[b]="")),e&&""!==a&&(void 0===this.prevData[m]&&(this.prevData[m]=[]),void 0===this.prevData[m][g]&&(this.prevData[m][g]=[]),void 0===this.prevData[m][g][d]&&(this.prevData[m][g][d]=[]),this.prevData[m][g][d][b]=a,""===this.undoData[g][d][b]&&(this.undoData[g][d][b]=a)))}return a};c.prototype.remember=function(a){this.prevData[a]=d.extend(!0,{},this.tempData)};c.prototype.getRememberedStyles=function(){return this.tempData};
c.prototype.getSheet=function(a){return document.getElementById(this.styleName+"-"+a).sheet};c.prototype.reset=function(){var a=Object.keys(themifyBuilder.breakpoints);a.push("desktop");for(var b in a)d("link#"+this.styleName+"-"+b).remove();this.InitInlineStyles();this.rulesCache=[];this.tempData=[];this.prevData=[];this.generatedPrefix=[];this.generatedCache=[]};c.prototype.doUndo=function(a,b){for(var d in a){var g=this.getSheet(d),g=g.cssRules?g.cssRules:g.rules,e;for(e in a[d])if(g[e])for(var f in a[d][e])g[e].style[f]=
b||""===a[d][e][f]?"":"backgroundImage"===f&&-1===a[d][e][f].indexOf("(",2)?"url("+a[d][e][f]+")":a[d][e][f]}};c.prototype.before_close=function(){var a=this;Themify.body.on("themify_builder_lightbox_before_close",function(){a.isInit=!1;if(null!==f.activeModel&&(a.$liveStyledElmt.removeClass("animated hover-wow"),!f.saving&&f.hasChanged&&(a.revertRules(),a.type&&"module"!==a.type))){var b=f.activeModel.get("styling");b&&"slider"===b.background_type&&b.background_slider&&a.bindBackgroundSlider()}})};
c.prototype.bindColors=function(){var a=this;Themify.body.on("themify_builder_color_picker_change",function(b,d,g,e){a.isInit&&("cover_color"===d||"cover_color_hover"===d?a.addOrRemoveComponentOverlay(d,e):g.hasClass("tb_frame")?a.addOrRemoveFrame(g):g.hasClass("border_color")?a.bindMultiFields(g):(b=a.getValue(d))&&a.setLiveStyle(b.prop,e,b.selector))})};c.prototype.addOrRemoveFrame=function(a){var b=this,k=f.liveStylingInstance.$liveStyledElmt,g=f.liveStylingInstance.$context.find(b.style_tab),
e=a.closest(".tb_tab").attr("id").match(/frame_tabs_(.*)$/)[1],c={},h=this.getValue(e+"-frame_type").selector;a=k.children(".tb_row_frame_"+e);d("custom location width height width_unit height_unit repeat".split(" ")).each(function(a,b){c[b]=d("#"+e+"-frame_"+b,g).val()});c.type=d("#"+e+"-frame_type :checked",g).val();c.layout=d("#"+e+"-frame_layout",g).find("a.selected").attr("id");c.color=d("#"+e+"-frame_color",g).val()?d("#"+e+"-frame_color",g).minicolors("rgbaString"):"";c.type===e+"-presets"&&
""===c.layout||c.type===e+"-custom"&&""===c.custom?a.remove():(1>a.length?(a=d("<div />",{"class":"tb_row_frame tb_row_frame_"+e+" "+c.location}),k.children(".tb_action_wrap").after(a)):a.removeClass("behind_content in_front").addClass(c.location),c.type===e+"-presets"?d.ajax({dataType:"text",url:tbLocalScript.builder_url+"/img/row-frame/"+("left"===e||"right"===e?c.layout+"-l":c.layout)+".svg",success:function(a){c.color&&(a=a.replace(/\#D3D3D3/gi,c.color));b.setLiveStyle("background-image",'url("data:image/svg+xml;base64,'+
btoa(a)+'")',h)}}):b.setLiveStyle("background-image",'url("'+c.custom+'")',h),b.setLiveStyle("width",c.width?c.width+c.width_unit:"",h),b.setLiveStyle("height",c.height?c.height+c.height_unit:"",h),c.repeat?"left"===e||"right"===e?b.setLiveStyle("background-size","100% "+100/c.repeat+"%",h):b.setLiveStyle("background-size",100/c.repeat+"% 100%",h):b.setLiveStyle("background-size","",h))};c.prototype.overlayType=function(a,d){var b="color"===d||"hover_color"===d;a=b?a.replace("-type",""):"cover_color_hover-type"===
a?"cover_gradient_"+d.replace("_","-")+"-type":a.replace("color","gradient-gradient");var g=this.$context.find("#"+a);if(b){if(b=g.val())if(g.data("minicolors-initialized"))b=g.minicolors("rgbaString");else{var e=g.data("opacity");""!==e&&void 0!==e&&"1"!=e&&"0.99"!=e&&(b=f.Utils.toRGBA(b+"_"+e))}Themify.body.trigger("themify_builder_color_picker_change",[a,g,b])}else g.trigger("change")};c.prototype.bindBackgroundGradient=function(a,d){if(this.isInit){var b=this.getValue(a);b&&("cover_gradient"!==
a&&"cover_gradient_hover"!==a||this.setLiveStyle("background-color",!1,b.selector),this.setLiveStyle(b.prop,d,b.selector))}};c.prototype.addOrRemoveComponentOverlay=function(a,b){var c=this.getComponentBgOverlay(),g=0!==c.length;g||(c=d("<div/>",{"class":"builder_row_cover"}));if("cover_gradient"!==a&&"cover_gradient_hover"!==a){var e=this.getValue(a);this.setLiveStyle("background-image","none",e.selector);this.setLiveStyle(e.prop,b,e.selector)}else this.bindBackgroundGradient(a,b);g||f.liveStylingInstance.$liveStyledElmt.children(".tb_action_wrap").before(c)};
c.prototype.bindMultiFields=function(a,b){function c(a,b){if(!n){if("row"===h.type&&""===tbLocalScript.fullwidth_support&&(r&&("padding"===b||"margin"===b)||"padding-left"===b||"padding-right"===b||"margin-left"===b||"margin-right"===b)){var e=b.split("-"),g=f.activeBreakPoint+"-"+e[0];if(r)a=a+","+a;else{var c=h.$liveStyledElmt.data(g),c=c?c.split(","):[];"left"===e[1]?c[0]=a:c[1]=a;a=c.join(",")}h.$liveStyledElmt.attr("data-"+g,a).data(g,a);ThemifyBuilderModuleJs.setupFullwidthRows(h.$liveStyledElmt)}(r&&
"padding"===b||0===b.indexOf("padding"))&&setTimeout(function(){d(window).trigger("tfsmartresize.tfVideo")},600)}}function g(a){var b=d.trim(a.val());""!==b&&(b=parseFloat(b),isNaN(b)?b="":0!==b&&(b+=h.$context.find("#"+a.prop("id")+"_unit").val()));return b}function e(a){var b=a.closest("li");a=parseFloat(d.trim(b.find(".border_width").val()));var e=b.find(".border_style").val(),b=b.find(".minicolors-input"),c=d.trim(b.val()),b=c&&b.data("minicolors-initialized")?b.minicolors("rgbaString"):c;"none"===
e?a=e:isNaN(a)||""===a||""===b?a="":(-1===b.indexOf("rgb")&&-1===b.indexOf("#")&&(b="#"+b),a=a+"px "+e+" "+b);return a}var h=this;var q=a.prop("id");var m=h.getValue(q);if(m){q=a.closest(".tb_seperate_items");var l=m.prop.split("-")[0];var n=q.hasClass("tb_borders");var r="1"===q.attr("data-checked");if(r){var t=n?e(a):g(a);h.setLiveStyle(l,t,m.selector);c(t,l)}else b?(h.setLiveStyle(l,"",m.selector),q.find(".tb_multi_field").each(function(){t=n?e(d(this)):g(d(this));var a=h.getValue(d(this).prop("id")).prop;
h.setLiveStyle(a,t,m.selector);c(t,a)})):(t=n?e(a):g(a),h.setLiveStyle(m.prop,t,m.selector),c(t,m.prop))}};c.prototype.bindRowWidthHeight=function(){var a=this;Themify.body.on("tb_row_height",function(b,c){"fullheight"===c?a.$liveStyledElmt.addClass(c):a.$liveStyledElmt.removeClass("fullheight");d(window).trigger("tfsmartresize.tfVideo")}).on("tb_row_width",function(b,c){"fullwidth"===c?(a.$liveStyledElmt.removeClass("fullwidth").addClass("fullwidth_row_container"),ThemifyBuilderModuleJs.setupFullwidthRows(a.$liveStyledElmt)):
"fullwidth-content"===c?(a.$liveStyledElmt.removeClass("fullwidth_row_container").addClass("fullwidth"),ThemifyBuilderModuleJs.setupFullwidthRows(a.$liveStyledElmt)):a.$liveStyledElmt.removeClass("fullwidth fullwidth_row_container").css({"margin-left":"","margin-right":"","padding-left":"","padding-right":"",width:""});d(window).trigger("tfsmartresize.tfVideo")})};c.prototype.bindParralax=function(){var a=this;this.$context.on("keyup","#custom_parallax_scroll_zindex",function(){var b=parseInt(d(this).val());
isNaN(b)&&(b="");a.$liveStyledElmt[0].style.zIndex=b})};c.prototype.bindAnimation=function(){var a=this;this.$context.on("change","#animation_effect,#animation_effect_delay,#animation_effect_repeat,#hover_animation_effect",function(){var b="hover_animation_effect"===d(this).prop("id"),c=b?"hover_animation_effect":"animation_effect",g=b?d(this).val():a.$context.find("#animation_effect").val(),e=a.getStylingVal(c);e&&(b&&(e=e+" hover-wow hover-animation-"+e),a.$liveStyledElmt.removeClass(e+" wow animated").css({"animation-name":"",
"animation-delay":"","animation-iteration-count":""}));a.setStylingVal(c,g);g&&(b?g="hover-wow hover-animation-"+g:(c=parseFloat(a.$context.find("#animation_effect_delay").val()),e=parseInt(a.$context.find("#animation_effect_repeat").val()),a.$liveStyledElmt.css({"animation-delay":0<c&&!isNaN(c)?c+"s":"","animation-iteration-count":0<e&&!isNaN(e)?e:""})),setTimeout(function(){a.$liveStyledElmt.addClass(g+" animated");b&&a.$liveStyledElmt.trigger("mouseover")},1))})};c.prototype.bindAdditionalCSSClass=
function(){var a=this;this.$context.on("keyup","#custom_css_row, #custom_css_column",function(){var b=this.id,c=a.getStylingVal(b);a.$liveStyledElmt.removeClass(c);c=d(this).val();a.setStylingVal(b,c);a.$liveStyledElmt.addClass(c)})};c.prototype.getRowAnchorClass=function(a){return 0<a.length?"tb_section-"+a:""};c.prototype.getStylingVal=function(a){return void 0!==this.currentStyleObj[a]?this.currentStyleObj[a]:""};c.prototype.setStylingVal=function(a,b){this.currentStyleObj[a]=b};c.prototype.bindBackgroundMode=
function(a,b){var d=this.getValue(b);if(0<a.length){var c={repeat:"repeat","repeat-x":"repeat-x","repeat-y":"repeat-y","repeat-none":"no-repeat",fullcover:"cover","best-fit-image":"contain","builder-parallax-scrolling":"cover","builder-zoom-scrolling":"100%","builder-zooming":"100%"},e={};if(c[a]){-1!==a.indexOf("repeat")?(e["background-repeat"]=c[a],e["background-size"]="auto"):(e["background-size"]=c[a],e["background-repeat"]="no-repeat","best-fit-image"===c[a]||"builder-zooming"===c[a]?e["background-position"]=
"center center":"builder-zoom-scrolling"===c[a]&&(e["background-position"]="50%"));this.$liveStyledElmt.toggleClass("builder-parallax-scrolling","builder-parallax-scrolling"===a).toggleClass("builder-zooming","builder-zooming"===a).toggleClass("builder-zoom-scrolling","builder-zoom-scrolling"===a).css("background-position","");for(var f in e)this.setLiveStyle(f,e[f],d.selector);"builder-zoom-scrolling"===a?ThemifyBuilderModuleJs.backgroundZoom(this.$liveStyledElmt):"builder-zooming"===a?ThemifyBuilderModuleJs.backgroundZooming(this.$liveStyledElmt):
"builder-parallax-scrolling"===a&&ThemifyBuilderModuleJs.backgroundScrolling(this.$liveStyledElmt)}}};c.prototype.bindBackgroundPosition=function(a,b){if(a&&0<a.length){this.setStylingVal(b,a);var d=this.getValue(b);d&&this.setLiveStyle(d.prop,a.replace("-"," "),d.selector)}};c.prototype.bindBackgroundSlider=function(){function a(a){a=d(a);var c=b.getComponentBgOverlay();0<c.length?c.after(a):b.$liveStyledElmt.prepend(a);ThemifyBuilderModuleJs.backgroundSlider(d(a[0]))}var b=this,c=d.trim(b.$context.find("#background_slider").val());
b.removeBgSlider();if(c){void 0===b.cahce&&(b.cahce={});var c={shortcode:encodeURIComponent(c),mode:b.$context.find("#background_slider_mode").val(),speed:b.$context.find("#background_slider_speed").val(),size:b.$context.find("#background_slider_size").val()},g="",e;for(e in c)g+=Themify.hash(e+c[e]);void 0!==this.cahce[g]?a(this.cahce[g]):(c.type=b.type,c.order=f.activeModel.cid,d.post(themifyBuilder.ajaxurl,{nonce:themifyBuilder.tb_load_nonce,action:"tb_slider_live_styling",tb_background_slider_data:c},
function(d){10>d.length||(b.cahce[g]=d,a(d))}))}};c.prototype.VideoOptions=function(){var a=this;this.$context.on("change",'input[name="background_video_options"]',function(){var b=a.$liveStyledElmt.find(".big-video-wrap").first(),c=d(this).val(),g=d(this).is(":checked"),e="";b.hasClass("themify_ytb_wrapper")?(b=a.$liveStyledElmt,e="ytb"):b.hasClass("themify-video-vmieo")?(b=$f(b.children("iframe")[0]))&&(e="vimeo"):(b=a.$liveStyledElmt.data("plugin_ThemifyBgVideo"),e="local");"mute"===c?g?("ytb"===
e?b.ThemifyYTBMute():"vimeo"===e?b.api("setVolume",0):"local"===e&&b.muted(!0),a.$liveStyledElmt.data("mutevideo","mute")):("ytb"===e?b.ThemifyYTBUnmute():"vimeo"===e?b.api("setVolume",1):"local"===e&&b.muted(!1),a.$liveStyledElmt.data("mutevideo","")):"unloop"===c&&(g?("vimeo"===e?b.api("setLoop",0):"local"===e&&b.loop(!1),a.$liveStyledElmt.data("unloopvideo","")):("vimeo"===e?b.api("setLoop",1):"local"===e&&b.loop(!0),a.$liveStyledElmt.data("unloopvideo","loop")))})};c.prototype.bindBackgroundTypeRadio=
function(a){"image"===a||"gradient"===a?(this.removeBgSlider(),this.removeBgVideo(),"image"===a?this.setLiveStyle("background-image","none"):a="module"===this.type?"image-gradient-angle":a+"-gradient-angle"):"video"===a?this.removeBgSlider():this.removeBgVideo();this.$context.find("#background_"+a).trigger("change")};c.prototype.bindFontColorType=function(a,b,c,g){if("general"==a){var e=themifybuilderapp.activeModel.get("mod_name");var f="box"==e?".module-box-content":"p";var h=themifybuilderapp.Forms.serialize("tb_options_styling");
var k=[];for(var l=1;6>=l;l++)"font_color_h"+l in h&&(""!=h["font_color_h"+l]||""!=h["font_gradient_color_h"+l+"-gradient"])?k=""==k?k+"h"+l:","+k+"h"+l:f=f+",h"+l}f="general"==a?this.$liveStyledElmt.find(f):this.$liveStyledElmt.find(a);if(-1!==b.indexOf("_solid"))"general"==a?this.$liveStyledElmt.removeClass("tb-font-color-gradient").addClass("tb-font-color-solid"):f.removeClass("tb-font-color-gradient").addClass("tb-font-color-solid"),""!=c&&(a=this.$context.find("#"+c).val(),a=""!=a?a:"inherit",
"pricing-table"==e?this.$liveStyledElmt.css("color",a):f.css("color",a));else if(-1!==b.indexOf("_gradient")&&("general"==a?this.$liveStyledElmt.removeClass("tb-font-color-solid").addClass("tb-font-color-gradient"):f.removeClass("tb-font-color-solid").addClass("tb-font-color-gradient"),""!=g)){if("general"==a){var n;this.$liveStyledElmt.find(k).not("[class]").each(function(){n=d(this).prop("tagName").toLowerCase();var a=-1!=h["font_color_type_"+n].indexOf("gradient")?"gradient":"solid";d(this).addClass("tb-font-color-"+
a)})}this.$context.find("#"+g+"-gradient-type").trigger("change")}};c.prototype.setData=function(a,b,d){if(a=this.getValue(a))""===b&&(b=a.prop),this.setLiveStyle(b,d,a.selector)};c.prototype.bindChangesEvent=function(){var a=this;a.$context.on("change",a.style_tab+" select,"+a.style_tab+" textarea,"+a.style_tab+" input.tb_uploader_input,"+a.style_tab+' input[type="radio"]',function(b){var c=this.classList;if(a.isInit&&!c.contains("minicolors-input")&&!c.contains("color_opacity")&&!c.contains("themify-gradient-type")){var f=
d.trim(d(this).val()),e="SELECT"===this.tagName,h=!e&&d(this).is(":radio"),l=h?d(this).parent(".tb_lb_option").prop("id"):d(this).prop("id");if(e)if(c.contains("font-weight-select")&&(e=d(this).closest(".tb_field").prev(".tb_field").find("select").val(),"default"!==e&&void 0===ThemifyBuilderCommon.safe_fonts[e]&&ThemifyBuilderCommon.loadGoogleFonts(e+":"+f),-1!==f.indexOf("italic")?(f=parseInt(f.replace("italic","")),d(this).closest(".tb_field").nextAll(".multi_font_style").find(".font_style_regular_italic").trigger("click")):
d(this).closest(".tb_field").nextAll(".multi_font_style").find(".font_style_regular_normal").trigger("click")),c.contains("font-family-select"))"default"!==f&&void 0===ThemifyBuilderCommon.safe_fonts[f]?(b=d(this).closest(".tb_field").next(".tb_field").find("select"),c=f,b.length&&(c+=":"+b[0].options[b[0].selectedIndex].text),ThemifyBuilderCommon.loadGoogleFonts(c)):"default"===f&&(f="");else if(c.contains("tb_unit"))a.$context.find("#"+l.replace("_unit","")).trigger("keyup");else{if(c.contains("border_style")){a.bindMultiFields(d(this),
b.isTrigger);return}if(/^background_repeat/.test(l)){a.bindBackgroundMode(f,l);return}if(/^background_position/.test(l)){a.bindBackgroundPosition(f,l);return}if(c.contains("tb_frame")){a.addOrRemoveFrame(d(this));return}if("module"!==a.type&&("background_slider_size"===l||"background_slider_mode"===l||"background_slider_speed"===l)){a.bindBackgroundSlider();return}}else if(h){d(this).is(":checked")||(f="");if("background_type"===l||"background_image-type"===l){a.bindBackgroundTypeRadio(f);return}if("cover_color-type"===
l||"cover_color_hover-type"===l){a.overlayType(l,f);return}if(0<d(this).closest(".tb_frame").length){a.addOrRemoveFrame(d(this));return}if(-1!==l.indexOf("font_color_type")){b="general";"font_color_type"!=l?b=l.slice(-2):"fancy-heading"==themifybuilderapp.activeModel.get("mod_name")&&(b=".main-head");a.bindFontColorType(b,f,d(this).data("solid"),d(this).data("gradient"));return}}else if(c.contains("tb_uploader_input")){if("background_video"===l)return 0<f.length?(a.$liveStyledElmt.data("fullwidthvideo",
f).attr("data-fullwidthvideo",f),_.isEmpty(a.$liveStyledElmt.data("mutevideo"))&&a.$context.find("#background_video_options_mute").is(":checked")&&a.$liveStyledElmt.data("mutevideo","mute"),ThemifyBuilderModuleJs.fullwidthVideo(a.$liveStyledElmt)):a.removeBgVideo(),!1;if(c.contains("tb_frame")){a.addOrRemoveFrame(d(this));return}f=f?"url("+f+")":"none"}else if("module"!==a.type&&"background_slider"===l){a.bindBackgroundSlider();return}a.setData(l,"",f)}}).on("keyup",a.style_tab+' input[type="text"]',
function(b){var c=this.classList;if(!c.contains("minicolors-input")&&!c.contains("color_opacity")){var f=d.trim(d(this).val()),e=d(this).prop("id");c.contains("border_width")||c.contains("tb_multi_field")?a.bindMultiFields(d(this),b.isTrigger):c.contains("tb_frame")?a.addOrRemoveFrame(d(this)):(f&&(c.contains("tb_multi_columns_width")?(f+="px",b=e.replace("_width","_style"),c=a.$context.find(a.style_tab+" #"+b),0<c.length&&a.setData(b,"",c.val())):(b=a.$context.find(a.style_tab+" #"+e+"_unit"),0<
b.length&&(f+=b.val()?b.val():"px"))),a.setData(e,"",f))}}).on("click",a.style_tab+" .themify-layout-icon",function(b){this.classList.contains("tb_frame")&&a.addOrRemoveFrame(d(this))})};c.prototype.getValue=function(a){return this.isInit?void 0!==this.module_rules[this.group]&&void 0!==this.module_rules[this.group][a]?this.module_rules[this.group][a]:!1:!1};c.prototype.bindLightboxForm=function(){this.bindChangesEvent();this.bindColors();this.bindAnimation();this.VideoOptions();this.bindRowWidthHeight();
this.bindAdditionalCSSClass()};c.prototype.getComponentBgOverlay=function(){return this.$liveStyledElmt.children(".builder_row_cover")};c.prototype.getComponentBgSlider=function(){var a="colum"===this.type&&"sub-column"===f.activeModel.get("component_name")?"sub-col":"colum"===this.type?"col":this.type;return this.$liveStyledElmt.children("."+a+"-slider")};c.prototype.removeBgSlider=function(){this.getComponentBgSlider().add(this.$liveStyledElmt.children(".tb_backstretch")).remove();this.$liveStyledElmt.css({position:"",
background:"","z-index":""})};c.prototype.removeBgVideo=function(){this.$liveStyledElmt.removeAttr("data-fullwidthvideo").data("fullwidthvideo","").children(".big-video-wrap").remove()};return c}(jQuery)})(jQuery);
