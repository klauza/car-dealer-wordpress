var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,f){a instanceof String&&(a=String(a));for(var g=a.length,h=0;h<g;h++){var m=a[h];if(b.call(f,m,h,a))return{i:h,v:m}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,f){a!=Array.prototype&&a!=Object.prototype&&(a[b]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,f,g){if(b){f=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var h=a[g];h in f||(f[h]={});f=f[h]}a=a[a.length-1];g=f[a];b=b(g);b!=g&&null!=b&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6-impl","es3");
(function(a,b,f){a.fn.tb_backstretch=function(e,d){"undefined"!==typeof d&&("undefined"===typeof d.mode&&("undefined"!=typeof themifyScript&&"undefined"!=typeof themifyScript.backgroundMode?d.mode=themifyScript.backgroundMode:"undefined"!=typeof themifyVars&&"undefined"!=typeof themifyVars.backgroundMode&&(d.mode=themifyVars.backgroundMode)),"undefined"===typeof d.position&&("undefined"!=typeof themifyScript&&"undefined"!=typeof themifyScript.backgroundPosition&&""!=typeof themifyScript.backgroundPosition?
d.position=themifyScript.backgroundPosition:"undefined"!=typeof themifyVars&&"undefined"!=typeof themifyVars.backgroundPosition&&""!=typeof themifyVars.backgroundPosition&&(d.position=themifyVars.backgroundPosition)),"undefined"===typeof d.is_first&&(d.is_first=!0));e!==f&&0!==e.length||a.error("No images were supplied for Backstretch");0===a(b).scrollTop()&&b.scrollTo(0,0);return this.each(function(){var c=a(this),b=c.data("tb_backstretch");if(b){if("string"==typeof e&&"function"==typeof b[e]){b[e](d);
return}d=a.extend(b.options,d);b.destroy(!0)}b=new m(this,e,d);c.data("tb_backstretch",b)})};a.tb_backstretch=function(b,d){return a("body").tb_backstretch(b,d).data("tb_backstretch")};a.expr[":"].tb_backstretch=function(b){return a(b).data("tb_backstretch")!==f};a.fn.tb_backstretch.defaults={centeredX:!0,centeredY:!0,duration:5E3,fade:0,mode:"",position:""};var g={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},h={position:"absolute",display:"none",margin:0,
padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},m=function(e,d,c){this.options=a.extend({},a.fn.tb_backstretch.defaults,c||{});this.images=a.isArray(d)?d:[d];a.each(this.images,function(){a("<img />")[0].src=this});this.isBody=e===document.body;this.$container=a(e);this.$root=this.isBody?u?a(b):a(document):this.$container;e=this.$container.children(".tb_backstretch").first();this.$wrap=e.length?e:a('<div class="tb_backstretch"></div>').css(g).appendTo(this.$container);
this.isBody||(e=this.$container.css("position"),d=this.$container.css("zIndex"),this.$container.css({position:"static"===e?"relative":e,zIndex:"auto"===d?0:d,backgroundImage:"none"}),this.$wrap.css({zIndex:-999998}));this.$wrap.css({position:this.isBody&&u?"fixed":"absolute"});this.index=0;this.show(this.index,this.options.is_first);a(b).on("resize.tb_backstretch",a.proxy(this.resize,this)).on("orientationchange.tb_backstretch",a.proxy(function(){this.isBody&&0===b.pageYOffset&&(b.scrollTo(0,1),this.resize())},
this))};m.prototype={resize:function(){try{var a={left:0,top:0},d=this.isBody?this.$root.width():this.$root.innerWidth(),c=d,f=this.isBody?b.innerHeight?b.innerHeight:this.$root.height():this.$root.innerHeight(),g=c/this.$img.data("ratio"),q;if("best-fit"===this.options.mode){var h=parseFloat(this.$img.data("ratio"));c/f>h?this.$img.addClass("best-fit-vertical").removeClass("best-fit-horizontal"):this.$img.addClass("best-fit-horizontal").removeClass("best-fit-vertical")}g>=f?(q=(g-f)/2,this.options.centeredY&&
(a.top="-"+q+"px")):(g=f,c=g*this.$img.data("ratio"),q=(c-d)/2,this.options.centeredX&&(a.left="-"+q+"px"));this.$wrap.css({width:d,height:f}).find("img:not(.deleteable)").css({width:c,height:g}).css(a)}catch(w){}return this},show:function(b,d){if(!(Math.abs(b)>this.images.length-1)){var c=this,f=c.$wrap.find("img").addClass("deleteable"),g={relatedTarget:c.$container[0]};c.$container.trigger(a.Event("tb_backstretch.before",g),[c,b]);this.index=b;clearInterval(c.interval);c.$img=a("<img />").css(h).bind("load",
function(e){var h=this.width||a(e.target).width();e=this.height||a(e.target).height();a(this).data("ratio",h/e);"undefined"!==typeof c&&("best-fit"===c.options.mode?(a(this).parent().addClass("best-fit-wrap"),e=h/e,c.$wrap.width()/c.$wrap.height()>e?a(this).addClass("best-fit best-fit-vertical"):a(this).addClass("best-fit best-fit-horizontal")):"fullcover"===c.options.mode&&c.options.position?a(this).addClass("fullcover-"+c.options.position):"kenburns-effect"===c.options.mode&&a(this).parent().addClass("kenburns-effect"),
d&&a(this).show());a(this).fadeIn(c.options.speed||c.options.fade,function(){f.remove();c.paused||c.cycle();a(["after","show"]).each(function(){c.$container.trigger(a.Event("tb_backstretch."+this,g),[c,b])})});c.resize()}).appendTo(c.$wrap);c.$img.attr("src",c.images[b]);return c}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0,!1)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1,!1)},pause:function(){this.paused=!0;return this},resume:function(){this.paused=
!1;this.next();return this},cycle:function(){1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(a.proxy(function(){this.paused||this.next()},this),this.options.duration));return this},destroy:function(e){a(b).off("resize.tb_backstretch orientationchange.tb_backstretch");clearInterval(this.interval);e||this.$wrap.remove();this.$container.removeData("tb_backstretch")}};var l=navigator.userAgent,r=navigator.platform,k=l.match(/AppleWebKit\/([0-9]+)/),k=!!k&&k[1],n=l.match(/Fennec\/([0-9]+)/),
n=!!n&&n[1],t=l.match(/Opera Mobi\/([0-9]+)/),v=!!t&&t[1],p=l.match(/MSIE ([0-9]+)/),p=!!p&&p[1];var u=!((-1<r.indexOf("iPhone")||-1<r.indexOf("iPad")||-1<r.indexOf("iPod"))&&k&&534>k||b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini)||t&&7458>v||-1<l.indexOf("Android")&&k&&533>k||n&&6>n||"palmGetResource"in b&&k&&534>k||-1<l.indexOf("MeeGo")&&-1<l.indexOf("NokiaBrowser/8.5.0")||p&&6>=p)})(jQuery,window);
