var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,k,f){c instanceof String&&(c=String(c));for(var e=c.length,m=0;m<e;m++){var a=c[m];if(k.call(f,a,m,c))return{i:m,v:a}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,k,f){c!=Array.prototype&&c!=Object.prototype&&(c[k]=f.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,k,f,e){if(k){f=$jscomp.global;c=c.split(".");for(e=0;e<c.length-1;e++){var m=c[e];m in f||(f[m]={});f=f[m]}c=c[c.length-1];e=f[c];k=k(e);k!=e&&null!=k&&$jscomp.defineProperty(f,c,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,f){return $jscomp.findInternal(this,c,f).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var k=0;return $jscomp.iteratorPrototype(function(){return k<c.length?{done:!1,value:c[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,k){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var f=0,e={next:function(){if(f<c.length){var m=f++;return{value:k(m,c[m]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,f){return f})}},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6-impl","es3");
(function(c){function k(a){a+="=";for(var c=document.cookie.split(";"),h=0;h<c.length;h++){for(var g=c[h];" "==g.charAt(0);)g=g.substring(1,g.length);if(0===g.indexOf(a))return g.substring(a.length,g.length)}return null}function f(a){a=a.find("[data-show-if-element]").map(function(){return c(this).data("show-if-element")}).get().filter(function(a,c,g){return c===g.indexOf(a)});c.each(a,function(a,h){e(h);c(document).on("change",h,function(a){e(h)})})}function e(a){c('[data-show-if-element="'+a+'"]').each(function(){var a=
c(this),h=a.data("show-if-value"),g=c(a.data("show-if-element").toString()),g=g.is(":checkbox")?g.is(":checked")?"true":"false":g.is(":radio")?g.filter(":checked").val():g.val().trim(),h=c.isArray(h)?h:[h.toString()];"undefined"!==typeof g&&-1!==c.inArray(g,h)?a.slideDown({duration:550}):a.slideUp({duration:550})})}function m(){var a=c("#builder-regenerate-css-files");a.click(function(){var f=a.attr("data-files");if(""==f)alert("No CSS files to regenerate!");else{a.attr("value","Regenerating ...");
a.attr("disabled","disabled");var f=JSON.parse(f),h=1,g;for(g in f)c.ajax({url:ajaxurl,type:"post",data:{action:"themify_regenerate_css_files_ajax",files:JSON.stringify(f[g]),group_number:h,total_groups:Object.keys(f).length,nonce:themify_js_vars.nonce},success:function(c){"finished"==c&&(a.removeAttr("disabled"),a.attr("value","Regenerate CSS Files"))}}),h++}})}c(document).ready(function(a){function c(b,d){var c=1==a("#themeversiontoreinstall").length?a("#themeversiontoreinstall").val():"latest",
n=a(".prompt-box form").attr("action"),n=n.replace(/(themeversion=.*$)/ig,"themeversion="+c);a(".prompt-box form").attr("action",n);a(".prompt-box .show-login").show();a(".prompt-box .show-error").hide();a(".prompt-box .prompt-error").remove();"error"===b?a(".prompt-box .prompt-msg").after('<p class="prompt-error">'+themify_lang.invalid_login+"</p>"):"unsuscribed"===b&&a(".prompt-box .prompt-msg").after('<p class="prompt-error">'+themify_lang.unsuscribed+"</p>");!0===d?a(".prompt-box").addClass("update-plugin"):
a(".prompt-box").removeClass("update-plugin");a(".overlay, .prompt-box").fadeIn(500)}function h(){a(".overlay, .prompt-box").fadeOut(500,function(){var b=a(".prompt-box"),d=b.find("iframe");0<d.length&&d.remove();b.removeClass("show-changelog")})}function g(){a(".alert").addClass("busy").fadeIn(800)}function e(b){"error"===b?(b="error",a(".overlay, .prompt-box").delay(900).fadeIn(500),a(".prompt-box .show-error").show(),a(".prompt-box .show-error p").remove(),a(".prompt-box .error-msg").after('<p class="prompt-error">undefined</p>'),
a(".prompt-box .show-login").hide()):b="done";a(".alert").removeClass("busy").addClass(b).delay(800).fadeOut(800,function(){a(this).removeClass(b)})}var J=themify_js_vars.blog_url,y=a("body"),l=a("#wpbody"),r=a("#themify"),p=a("#setting>.subtabnav"),w=a("#themify_404_page_autocomplete"),z=!0,B;r.find(".maintab").not('[aria-expanded="false"]').each(function(){var b=a(this).find(".subtabnav").outerHeight();a(this).find(".subtab").css("minHeight",b)});if(0<w.length){var C={},D=w.closest(".themify_404_autocomplete_wrap");
w.autocomplete({minLength:2,autoFocus:!0,classes:{"ui-autocomplete":"highlight"},source:function(b,d){var c=b.term;D.addClass("themify_autocomplete_run");c in C?(d(C[c]),D.removeClass("themify_autocomplete_run")):a.ajax({url:ajaxurl,dataType:"json",type:"POST",data:{term:c,action:"themify_get_404_pages"},success:function(a){C[c]=a;d(a.length?a:[themify_js_vars.page_not_found]);D.removeClass("themify_autocomplete_run")}})},select:function(a,d){a.preventDefault();d.item.value!==themify_js_vars.page_not_found&&
w.val(d.item.label).next('input[type="hidden"]').val(d.item.value)},change:function(a,d){d.item||a.target.value||w.next('input[type="hidden"]').val("")}}).focus(function(){a(this).autocomplete("search")})}0<p.length&&(B=p.offset().top-32);var G=!1,H=function(b,d){var c="tabscreate"===b.type?window.location:d.newTab.find("a")[0];"replaceState"in history&&history.replaceState(null,null,c.hash||null);"tabscreate"!==b.type||G||(G=!0,c=a("#themify div#setting div.subtab"),c.each(function(){var b=a(this).find("fieldset");
2<b.length?b.children(".themify_panel_fieldset_wrap").hide():b.find("legend").addClass("themify_panel_fieldset_nocollapse")}),c.find("legend:not(.themify_panel_fieldset_nocollapse)").on("click",function(){var b=a(this),d=b.children("i");d.hasClass("ti-plus")?b.siblings().slideDown("fast",function(){d.removeClass("ti-plus").addClass("ti-minus")}):b.siblings().slideUp("fast",function(){d.removeClass("ti-minus").addClass("ti-plus")})}))};a("#content, .maintab").tabs({fx:{opacity:"toggle",duration:200},
cache:!0,select:function(){a(this).css({height:a(this).height(),overflow:"hidden"})},show:function(){a(this).css({height:"auto",overflow:"visible"});0<p.length&&(B=p.offset().top-32)},beforeActivate:H,create:H});0<p.length&&a(window).scroll(function(){a(this).scrollTop()>B?p.hasClass("themify_settings_fixed")||p.addClass("themify_settings_fixed"):p.removeClass("themify_settings_fixed")});a(".search-setting-holder .search-setting").on("input",function(a){});a(".search-setting-holder .clear-search").click(function(){var b=
a(this).prev();b.val("");b.trigger("input")});a("li.ui-state-default",p).click(function(){a(".search-setting-holder .clear-search").click()});a(".valid_num").keyup(function(){for(var b=a(this).val(),d=!0,c,n=0;n<b.length&&!0===d;n++)c=b.charAt(n),-1===" 0123456789.+-".indexOf(c)&&(d=!1);d||a(this).val(a(this).val().substring(0,a(this).val().length-1))}).on("input paste",function(){a(this).trigger("keyup")});a(".save-button").click(function(b){b.preventDefault();g();b=r.serialize();a.post(ajaxurl,
{action:"themify_save",data:b,nonce:themify_js_vars.nonce},function(){e();a("body").trigger("themify_save")});return!1});if(0<r.length)a(document).on("keydown",function(b){83!=b.which||1!=b.ctrlKey&&1!=b.metaKey||(b.preventDefault(),a(".save-button").trigger("click"))});a("#reset-styling, #reset-setting").on("click",function(b){b.preventDefault();b="reset-setting"!==a(this).prop("id")?"styling":"settings";confirm(themify_lang["confirm_reset_"+b])&&(g(),a.post(ajaxurl,{action:"themify_reset_"+b,data:r.serialize(),
nonce:themify_js_vars.nonce},function(){e();window.location.reload(!0)}))});a("p.update:has(a.upgrade-framework, a.upgrade-theme)").length&&a.ajax({url:"https://themify.me/public-api/update-message/index.txt",success:function(b){a('<span class="updater-message"></span>').text(b).appendTo("p.update:has(a.upgrade-framework, a.upgrade-theme)")}});l.on("click",".upgrade-framework, .upgrade-theme",function(b){b.preventDefault();b=confirm(themify_lang.check_backup);var d="",t="";a(this).hasClass("upgrade-theme")?
(d="theme",t="&themeversion="+(1===a("#themeversiontoreinstall").length?a("#themeversiontoreinstall").val():"latest")):d="framework";if(b){z=a(this).parent().hasClass("login");var n=J+"wp-admin/admin.php?page=themify&action=upgrade&type="+d+t+"&login=false",e="themeify_is_free_"+themify_js_vars.theme;b=function(a){"free"===a?window.location=n:"error"!==a&&c();document.cookie=e+"="+a+"; path=/"};z?(d=k(e))?b(d):a.ajax({url:ajaxurl,type:"POST",data:{action:"themify_check_theme_is_free",nonce:themify_js_vars.nonce},
success:b}):window.location=n}});l.on("click",".upgrade-login",function(b){b.preventDefault();var d=a(this);b=d.parent().parent().find(".username").val();d=d.parent().parent().find(".password").val();if(!a(".prompt-box").hasClass("update-plugin"))""!=b&&""!=d?(h(),g(),a.post(ajaxurl,{action:"themify_validate_login",nonce:themify_js_vars.nonce,type:"theme",login:z,username:b,password:d},function(b){b=a.trim(b);"subscribed"===b?(e(),a("#themify_update_form").submit()):"invalid"===b?(e("error"),c("error")):
"unsuscribed"===b&&(e("error"),c("unsuscribed"))})):(e("error"),c("error"));else if(a(".prompt-box").hasClass("update-plugin"))if(""!==b&&""!==d){var t=a(".themify-builder-upgrade-plugin");h();g();a.post(ajaxurl,{action:"themify_builder_validate_login",type:"plugin",login:z,username:b,password:d,nicename_short:t.data("nicename_short"),update_type:t.data("update_type")},function(b){b=a.trim(b);"true"===b?(e(),a("#themify_update_form").append('<input type="hidden" name="plugin" value="'+t.data("plugin")+
'" /><input type="hidden" name="package_url" value="'+t.data("package_url")+'" />').submit()):"unsuscribed"===b?(e("error"),c("unsuscribed",!0)):(e("error"),c("error",!0))})}else e("error"),c("error")});a(".overlay").on("click",function(){h()});a(".themify_changelogs").on("click",function(b){b.preventDefault();b=a(this).data("changelog");a(".show-login, .show-error").hide();a(".alert").addClass("busy").fadeIn(300);a(".overlay, .prompt-box").fadeIn(300);a('<iframe src="'+b+'" />').on("load",function(){a(".alert").removeClass("busy").fadeOut(300)}).prependTo(".prompt-box");
a(".prompt-box").addClass("show-changelog")});a(".padding-switch, .margin-switch").click(function(){var b=a(this).parent().parent().parent(),d=0;a(this).is(":checked")?(""!=b.find(".individuals input:first").val()&&(d=b.find(".individuals input:first").val()),b.find(".individuals").fadeOut(200,function(){b.find(".same").fadeIn(200).find("input").val(d)}).find("input").val("")):(""!=b.find(".same input").val()&&(d=b.find(".same input").val()),b.find(".same").fadeOut(200,function(){b.find(".individuals").fadeIn(200).find("input").val(d)}).find("input").val(""))});
a(".border-switch").click(function(){var b=a(this).parent().parent(),d="",c=0,e="";a(this).is(":checked")?(""!=b.parent().find(".individuals input[type='text']:nth-child(1)").val()&&(d=b.parent().find(".individuals input[type='text']:nth-child(1)").val()),""!=b.parent().find(".individuals input:nth-child(2)").val()&&(c=b.parent().find(".individuals input:nth-child(2)").val()),e=b.parent().find(".individuals .colorSelect").css("background-color"),b.parent().find(".individuals .colorSelect").css("background-color",
"#ffffff"),b.parent().find(".individuals input[type='text']").val(""),b.parent().find(".individuals").fadeOut(200,function(){b.parent().find(".same input[type='text']:nth-child(1)").val(d);b.parent().find(".same .colorSelect").css("background-color",e);b.parent().find(".same").fadeIn(200).find("input[type=text]:nth-child(2)").val(c);b.parent().find(".same select").val(b.parent().find(".individuals select:first option:selected").val())})):(""!=b.parent().find(".same input[type='text']:nth-child(1)").val()&&
(d=b.parent().find(".same input[type='text]:nth-child(1)").val()),""!=b.parent().find(".same input:nth-child(2)").val()&&(c=b.parent().find(".same input:nth-child(2)").val()),e=b.parent().find(".same .colorSelect").css("background-color"),b.parent().find(".same .colorSelect").css("background-color","#ffffff"),b.parent().find(".same input").val(""),b.parent().find(".same").fadeOut(200,function(){b.parent().find(".individuals select").val(b.parent().find(".same select:first option:selected").val());
b.parent().find(".individuals").fadeIn(200).find("input[type='text']:nth-child(2)").val(c);b.parent().find(".individuals .borders input[type='text']:nth-child(1)").val(d);b.parent().find(".individuals .borders .colorSelect").css("background-color",e)}))});a(".colorTransparent").click(function(){var b=a(this).parent();a(this).is(":checked")?(b.find("input[type='text']").attr("disabled",!0).val("").addClass("opacity-7"),b.find(".colorSelect").minicolors("value",""),a(".clearColor, .minicolors",b).hide()):
(b.find("input[type=text]").removeAttr("disabled").removeClass("opacity-7"),a(".minicolors",b).show())});a(".noBgImage").each(function(){if(a(this).is(":checked")){var b=a(this).parent();b.find("input[type='text']").attr("disabled",!0).val("").addClass("opacity-7");a(".plupload-button",b).hide()}}).click(function(){var b=a(this).parent();a(this).is(":checked")?(b.find("input[type='text']").attr("disabled",!0).val("").addClass("opacity-7"),a(".plupload-button",b).hide()):(b.find("input[type='text']").removeAttr("disabled").removeClass("opacity-7"),
a(".plupload-button",b).show())});a(".background_position.positionX").change(function(){a(this).parent().find(".valueX").val(a("option:selected",this).val())});a(".background_position.positionY").change(function(){a(this).parent().find(".valueY").val(a("option:selected",this).val())});l=a(".preset");l.on("click",".backgroundThumb",function(b){b.preventDefault();b=a(this).attr("alt");a(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected");a(this).addClass("selected");a(this).parent().parent().parent().find(".background_image input[type=text]").removeAttr("disabled").val(b);
a(this).parent().parent().parent().find(".background_image input:checkbox").attr("checked",!1)});a(".background_image .upload-file").on("blur",function(){""==a(this).val()&&a(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected")});a(".background_image input:checkbox").on("click",function(){a(this).is(":checked")?(a(this).parent().parent().find(".backgroundThumb.selected").removeClass("selected"),a(this).parent().parent().find(".background_image input[type=text]").attr("disabled",
!0).val("")):a(this).parent().parent().find(".background_image input[type=text]").removeAttr("disabled")});l.on("click","span",function(b){b.preventDefault();var d=a(this);confirm(themify_lang.confirm_delete_image)&&a.post(ajaxurl,{action:"themify_delete_preset",file:d.attr("title"),nonce:themify_js_vars.nonce},function(){d.parent().parent().parent().find('.background_image input[type="text"]').val()==d.parent().find("img").attr("alt")&&d.parent().parent().parent().find('.background_image input[type="text"]').val("");
d.parent().remove();a('.preset a[title="'+d.parent().attr("title")+'"]').remove();a(".upload-file").each(function(){a(this).val()==d.parent().find("img").attr("alt")&&a(this).val("")})})});a(".select_position").change(function(){var b=a("option:selected",this).val();"absolute"===b||"fixed"===b?a(this).parent().parent().find(".position_display").show(200):a(this).parent().parent().find(".position_display").hide(200)});a(".fontFamily").change(function(){"custom"===a("option:selected",this).val()?(a(this).parent().find(".value").show(),
a(this).parent().find(".value input").val("")):(a(this).parent().find(".value").hide(),a(this).parent().find(".value input").val(a("option:selected",this).val()))});a("input[name='setting-site_logo'], input[name='setting-footer_logo']").change(function(){"image"===a(this).val()?(a(this).parent().parent().find(".image").fadeIn(200),a(this).parent().parent().find(".image").css("display","block")):a(this).parent().parent().find(".image").fadeOut()});a(".feature-box-display").click(function(){"images"===
a(this).val()?a(this).parent().parent().find(".feature_box_posts").fadeOut(200,function(){a(this).parent().parent().find(".feature_box_images").fadeIn(200)}):a(this).parent().parent().find(".feature_box_images").fadeOut(200,function(){a(this).parent().parent().find(".feature_box_posts").fadeIn(200)})});a(".block-toggle").click(function(){var b=a(this),d=b.val(),c=b.data("hide");b.parent().parent().find(".feature_box_"+c).fadeOut(200,function(){b.parent().parent().find(".feature_box_"+d).fadeIn(200)})});
a(".feature_box_enabled_check").change(function(){"on"===a(this).val()?a(this).closest("fieldset").find(".feature_box_enabled_display").fadeIn(200):a(this).closest("fieldset").find(".feature_box_enabled_display").fadeOut(200)});l=a(".box_enabled_check");l.click(function(){a(this).is(":checked")?a(this).parent().find(".box_enabled_display").fadeIn(200):a(this).parent().find(".box_enabled_display").fadeOut(200)});l.is(":checked")&&l.parent().find(".box_enabled_display").show();var A=a(".disable_img_php");
A.click(function(){A.is(":checked")?(a(".show_if_disabled_img_php").fadeIn(200),a(".show_if_enabled_img_php").fadeOut(200)):(a(".show_if_disabled_img_php").fadeOut(200),a(".show_if_enabled_img_php").fadeIn(200))});A.is(":checked")?a(".show_if_disabled_img_php").show():A.not(":checked")&&a(".show_if_enabled_img_php").show();a(".gallery_lightbox_type").change(function(){1!=a(".gallery_lightbox_type").prop("selectedIndex")?a(".show_if_photoswipe_enabled").fadeOut(200):a(".show_if_photoswipe_enabled").fadeIn(200)}).change();
a("#skins .skin-preview").click(function(b){a(b.target).parent().hasClass("view-demo")||b.preventDefault();a("#skins .skin-preview").removeClass("selected");a(this).addClass("selected");a("input[name='skin']").val(a(this).find("img").attr("id"))});l=a(".featimgcontrol");0<l.length&&0<a(".featimgdropdown").length&&l.each(function(){a(this).append(a(this).next(".featimgdropdown"))});var E=a("#social-link-type"),u=a("#social-links-wrapper"),x=a("#setting-link_field_ids"),v=a("#setting-link_field_hash");
a('input[value="font-icon"]',E).prop("checked")?(a(".image-icon",u).fadeOut(),a(".font-icon",u).fadeIn()):(a(".font-icon",u).fadeOut(),a(".image-icon",u).fadeIn());a("input",E).on("click",function(){var b=a(this);b.prop("checked")&&(a("."+b.data("hide"),u).fadeOut(),a("."+b.val(),u).fadeIn())});u.sortable({placeholder:"social-link-placeholder",handle:".social-drag",update:function(){var b={};a(".social-link-item").each(function(){b[a(this).attr("id")]=a(this).attr("id")});x.val(JSON.stringify(b))}}).on("click",
".remove-item",function(b){b.preventDefault();b=JSON.parse(x.val());var d=a(this).data("removelink");a("#"+d).remove();delete b[d];x.val(JSON.stringify(b))});a(".add-social-link a").click(function(b){var d=JSON.parse(x.val()),c=parseInt(v.val()),e="image-icon";b.preventDefault();a("input[value=font-icon]",E).prop("checked")&&(e="font-icon");a.post(ajaxurl,{action:"themify_add_link_field",nonce:themify_js_vars.nonce,fid:c,type:e},function(b){a("#social-links-wrapper").append(b);b=a("#themify-link-"+
v.val()+" .plupload-upload-uic");var e=a("#themify-link-"+v.val()+" .colorSelect");d["themify-link-"+v.val()]="themify-link-"+v.val();x.val(JSON.stringify(d));0<b.length&&themify_create_pluploader(b);0<e.length&&e.minicolors({defaultValue:"#ffffff",letterCase:"lowercase",change:function(b){a(this).parent().next().val(b.replace("#",""))}});v.val(c+1)})});a(".slug-rewrite").each(function(){a(this).on("keypress",function(a){var b=String.fromCharCode(a.charCode?a.charCode:a.which);if(!/^[a-z0-9_-]+$/.test(b))return a.preventDefault(),
!1})});r.on("click",".refresh-webfonts",function(b){b.preventDefault();confirm(themify_lang.confirm_refresh_webfonts)&&(b=r.serialize(),a.post(ajaxurl,{action:"themify_save",data:b,nonce:themify_js_vars.nonce},function(){g();a.post(ajaxurl,{action:"themify_refresh_webfonts",nonce:themify_js_vars.nonce},function(){e();window.location.reload(!0)})}))});r.on("change",".google_font_subset, .themify_multiselect",function(){var b=a(this).val();b&&(b=b.join(","));a(this).next().val(b)});var q={target:"",
getDocHeight:function(){var a=document;return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},showLightbox:function(){var b=a(document).scrollTop()+80,c=a("#themify_lightbox_visibility");a("#themify_lightbox_overlay").show();a.ajax({type:"POST",url:ajaxurl,data:{action:"themify_get_visibility_options",selected:q.target.val(),nonce:themify_js_vars.nonce},
success:function(d){a(".lightbox_container",c).append(d);c.show().css("top",q.getDocHeight()).animate({top:b},800);a("#visibility-tabs",c).tabs();a("#visibility-tabs .themify-visibility-inner-tabs",c).tabs()}})},closeLightbox:function(b){a("#themify_lightbox_visibility").animate({top:q.getDocHeight()},800,function(){a("#themify_lightbox_overlay").hide();a("#themify_lightbox_visibility").hide();"function"===typeof b&&b();q.clearOptions()})},clearOptions:function(){a("#themify_lightbox_visibility").find(".lightbox_container").empty()}},
F=a("#themify_lightbox_visibility");y.on("click",".themify-add-hook a",function(){var b=JSON.parse(a("#themify-hooks-field-ids").val()),c=1;0<b.length?c=Math.max.apply(null,b)+1:b=[];a.ajax({url:ajaxurl,type:"post",data:{action:"themify_hooks_add_item",field_id:c,nonce:themify_js_vars.nonce},success:function(d){b.push(c);a("#themify-hooks-field-ids").val(JSON.stringify(b));a("#hook-content-list").append(d)}});return!1}).on("click",".themify-visibility-toggle",function(){q.target=a(this).next();q.showLightbox();
return!1}).on("click","#themify_lightbox_visibility .close_lightbox, #themify_lightbox_overlay",function(){q.closeLightbox()});F.on("click",".visibility-save",function(){var b=a("form",F).serialize();q.target.val(b);q.closeLightbox();return!1}).on("click",".uncheck-all",function(){a("input:checkbox",F).removeAttr("checked");return!1});y.on("click","#setting-hooks .remove-item",function(){var b=JSON.parse(a("#themify-hooks-field-ids").val()),c=a(this).closest(".social-link-item").fadeOut("fast",function(){var d=
c.attr("data-id"),e;for(e in b)b.hasOwnProperty(e)&&b[e]==d&&b.splice(e,1);a("#themify-hooks-field-ids").val(JSON.stringify(b))});return!1});var I=a("#hook-content-list");I.sortable({placeholder:"social-link-placeholder",handle:".social-drag",update:function(){var b=[];I.find("li").each(function(){b.push(parseInt(a(this).attr("data-id")))});a("#themify-hooks-field-ids").val(JSON.stringify(b))}});l=a(".see-hook-locations");0<l.length&&l.magnificPopup({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler" style="max-width: 100% !important; height: 100%;"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>'}});
a("#setting-editor-gfonts-list").change(function(){var b=a(this).val();a(this).next().val(JSON.stringify(b))}).change();a(".required-addons.themify-modal").appendTo("form#themify");y.on("click","#demo-import-notice .skin-preview",function(b){a(b.target).parent().hasClass("view-demo")||b.preventDefault();a("#demo-import-notice .skin-preview").removeClass("selected");a(this).addClass("selected");a('#skins .skin-preview[data-skin="'+a(this).data("skin")+'"]').trigger("click")});a("#demo-import-notice .skin-demo-import").click(function(){a("#skins .skin-preview.selected .skin-demo-import").click()});
y.on("click","#skins .skin-demo-import",function(b){b.preventDefault();var c=a(this).closest(".skin-preview").find(".skin-demo-content").data("skin"),f=function(){a.ajax({url:ajaxurl,data:{action:"themify_import_sample_content",skin:c,nonce:themify_js_vars.nonce},type:"POST",success:function(a){},beforeSend:function(){g()},complete:function(){e();window.location=themify_js_vars.admin_url}})};b=a('#themify .required-addons[data-skin="'+c+'"]:first');if(b.length)b.fadeIn().find(".proceed-import").off().on("click",
function(a){a.preventDefault();f()}).end().find("a.external-link").on("click",function(){window.location=a(this).attr("href")});else f()}).on("click","#skins .skin-erase-demo",function(b){b.preventDefault();b=a(this).closest(".skin-demo-content");a.ajax({url:ajaxurl,data:{action:"themify_erase_sample_content",skin:b.data("skin"),nonce:themify_js_vars.nonce},type:"POST",success:function(a){},beforeSend:function(){g()},complete:function(){e()}})});a("#demo-import-notice .import-sample-content").click(function(){a("#demo-import .import-sample-content").click()});
a("#demo-import .import-sample-content").click(function(){var b=a(this),c=a("#themify").find(".required-addons");if(b.hasClass("disabled"))return!1;var f=function(){a.ajax({url:ajaxurl,data:{action:"themify_import_sample_content",nonce:themify_js_vars.nonce},type:"POST",success:function(a){},beforeSend:function(){b.find("span").text(b.attr("data-importing"));g()},complete:function(){b.find("span").text(b.attr("data-success"));e();window.location=themify_js_vars.admin_url}})};if(c.length)c.fadeIn().find(".proceed-import").off().on("click",
function(a){a.preventDefault();f()}).end().find("a.external-link").on("click",function(){window.location=a(this).attr("href")});else{if(!window.confirm(themify_lang.confirm_demo))return!1;f()}return!1});a(".erase-sample-content").click(function(){var b=a(this);if(b.hasClass("disabled"))return!1;b.addClass("disabled");a.ajax({url:ajaxurl,data:{action:"themify_erase_sample_content",nonce:themify_js_vars.nonce},type:"POST",success:function(a){},beforeSend:function(){b.find("span").text(b.attr("data-erasing"));
g()},complete:function(){b.find("span").text(b.attr("data-success"));e()}});return!1});a(".themify-modal .dismiss-import-notice").click(function(){a(this).closest(".themify-modal").fadeOut();return!1});a(".notice-dismiss").on("click",function(){var b=a(this).data("notice");a.post(ajaxurl,{action:"themify_notice_dismiss",notice:b,nonce:themify_js_vars.nonce},function(){a(".js-"+b+"-notice").fadeOut(300,function(){a(this).remove()})});return!1});r.find("select").not("[multiple]").wrap('<div class="selectwrapper"></div>');
a(".selectwrapper").click(function(){a(this).toggleClass("clicked")});f(a("#themify, .toplevel_page_themify-builder #wpbody-content"));a(".js-clear-builder-cache").on("click",function(b){b.preventDefault();var c=a(this);!c.hasClass("disabled")&&window.confirm(c.data("confim"))&&(c.addClass("disabled"),a.ajax({url:ajaxurl,data:{action:c.data("action"),nonce:themify_js_vars.nonce},type:"POST",beforeSend:function(){c.find("span").text(c.data("clearing-text")).end().find("i").removeClass().addClass("fa fa-cog fa-spin")},
success:function(){c.find("span").text(c.data("done-text")).end().find("i").removeClass().addClass("fa fa-check-square");setTimeout(function(){c.find("span").text(c.data("default-text")).end().find("i").removeClass().addClass(c.data("default-icon")).end().removeClass("disabled")},5E3)}}))});a(".input-range .range-slider").each(function(){var b=a(this),c=b.next(),e=c.val().split("-"),f=c.data("range")?!0:!1;b.slider({range:f,min:c.data("min"),max:c.data("max"),values:e,slide:function(a,b){b.values[0]!=
b.values[1]&&f?c.val(b.values[0]+"-"+b.values[1]):c.val(b.values[0])}})});"undefined"!==typeof wp&&"undefined"!==typeof wp.media&&"undefined"!==typeof wp.media.featuredImage&&(a("body").on("themify_metabox_lib_selected",function(a,c,e,f){c.data("submit").featured&&wp.media.featuredImage.set(e.id)}).on("themify_plupload_selected",function(a,c,e){c.data("featured")&&wp.media.featuredImage.set(e.id)}).on("themify_wp_media_featured_image_set",function(b,c,e){b=a("#post_image").closest(".themify_field_row");
-1==c?b.find(".themify_featimg_remove a").click():themifyMediaLib.setPreviewIcon(b,a(e).find("#set-post-thumbnail img").attr("src"))}),a("#post_image").closest(".themify_field_row").find(".themify_featimg_remove a").click(function(){a("#remove-post-thumbnail").click()}),wp.media.featuredImage.set=function(b){var c=wp.media.view.settings;c.post.featuredImageId=b;wp.media.post("get-post-thumbnail-html",{post_id:c.post.id,thumbnail_id:c.post.featuredImageId,_wpnonce:c.post.nonce}).done(function(c){"0"==
c?window.alert(window.setPostThumbnailL10n.error):(a(".inside","#postimagediv").html(c),a("body").trigger("themify_wp_media_featured_image_set",[b,c]))})});m()});c(document).ready(function(){var a=c("#themify .preview-icon");a.length&&a.each(function(){var a=c(this),e=a.attr("title");a.removeAttr("title").append('<span class="tm-option-title-fw">'+e+"</span>")})})})(jQuery);
