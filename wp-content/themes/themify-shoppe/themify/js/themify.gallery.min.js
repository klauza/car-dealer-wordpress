var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,a,c){b instanceof String&&(b=String(b));for(var d=b.length,f=0;f<d;f++){var p=b[f];if(a.call(c,p,f,b))return{i:f,v:p}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,a,c,d){if(a){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var f=b[d];f in c||(c[f]={});c=c[f]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6-impl","es3");var ThemifyGallery={};
(function(b){ThemifyGallery={config:{fullscreen:themifyScript.lightbox.fullscreenSelector,lightbox:themifyScript.lightbox.lightboxSelector,lightboxGallery:themifyScript.lightbox.gallerySelector,lightboxContentImages:themifyScript.lightbox.lightboxContentImagesSelector,is_touch:b("body").hasClass("touch"),context:document},init:function(a){a&&"object"==typeof a&&b.extend(ThemifyGallery.config,a);if(a.extraLightboxArgs&&"object"==typeof a)for(var c in a.extraLightboxArgs)themifyScript.lightbox[c]=a.extraLightboxArgs[c];
this.parseArgs();this.doLightbox()},parseArgs:function(){b.each(themifyScript.lightbox,function(b,c){"false"==c||"true"==c?themifyScript.lightbox[b]="false"!=c:parseInt(c)?themifyScript.lightbox[b]=parseInt(c):parseFloat(c)&&(themifyScript.lightbox[b]=parseFloat(c))})},doLightbox:function(){var a=this.config.context,c={};if("undefined"!==typeof b.fn.magnificPopup&&"undefined"!==typeof themifyScript.lightbox.lightboxOn&&(b(a).on("click",ThemifyGallery.config.lightbox,function(a){var f;a.preventDefault();
if(!b(".mfp-wrap.mfp-gallery").length){var d=b(this),e=0<d.find("> a").length?d.find("> a").attr("href"):d.attr("href"),g=ThemifyGallery.getFileType(e);a=ThemifyGallery.isVideo(e);var h="inline"===g||"iframe"===g?[]:d.data("rel")?b('a[data-rel="'+d.data("rel")+'"]'):d.closest(".themify_builder_row, .loops-wrapper").find(".themify_lightbox > img").parent(),k=1<h.length?h.index(this):0,q="undefined"!==typeof b(this).children("img").prop("alt")?b(this).children("img").prop("alt"):b(this).prop("title"),
l=a?"100%":ThemifyGallery.getParam("width",e)?ThemifyGallery.getParam("width",e):"94%",m=a?"100%":ThemifyGallery.getParam("height",e)?ThemifyGallery.getParam("height",e):"100%";-1===l.indexOf("%")&&(l+="px");-1===m.indexOf("%")&&(m+="px");if(a)if(ThemifyGallery.isYoutube(e)){if(f=ThemifyGallery.getCustomParams(e))c.youtube={id:"v=",index:"youtube.com/",src:"//www.youtube.com/embed/%id%"+f};e=ThemifyGallery.getYoutubePath(e)}else if(ThemifyGallery.isVimeo(e)){if(f=ThemifyGallery.getCustomParams(e))c.vimeo=
{id:"/",index:"vimeo.com/",src:"//player.vimeo.com/video/%id%"+f};e=e.split("?")[0]}if(1<h.length&&-1!==k){var n=[];h.each(function(a,c){n.push({src:ThemifyGallery.getiFrameLink(b(c).prop("href")),title:"undefined"!==typeof b(c).find("img").prop("alt")?b(c).find("img").prop("alt"):"",type:ThemifyGallery.getFileType(b(c).prop("href"))})})}else k=0,n={src:ThemifyGallery.getiFrameLink(e),title:q};f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;g={items:n,type:g,iframe:{markup:'<div class="mfp-iframe-scaler" style="max-width: '+
l+" !important; height: "+m+';"><div class="mfp-close"></div><div class="mfp-iframe-wrapper"><iframe class="mfp-iframe" '+(f?'scrolling="no" ':"")+'noresize="noresize" frameborder="0" allowfullscreen></iframe></div></div>',patterns:c},callbacks:{open:function(){var a=d.data("zoom-config"),c={};a&&(a=a.split("|"),"undefined"!==typeof a[0]&&(c.width=a[0]),"undefined"!==typeof a[1]&&(c.height=a[1]),b(this.content).parent().css(c))}}};1<h.length&&b.extend(g,{gallery:{enabled:!0}});0<d.find("img").length&&
b.extend(g,{mainClass:"mfp-with-zoom",zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,easing:"ease-in-out",opener:function(){return d.find("img")}}});g.mainClass=a?g.mainClass+" video-frame":g.mainClass+" standard-frame";ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(g):b.magnificPopup.open(g,k)}}),b(themifyScript.lightbox.contentImagesAreas,a).each(function(){var a=[],c=[];themifyScript.lightbox.lightboxContentImages&&themifyScript.lightbox.lightboxGalleryOn&&b(ThemifyGallery.config.lightboxContentImages,
b(this)).filter(function(){if(!b(this).parent().hasClass("gallery-icon")&&!b(this).hasClass("themify_lightbox")){c.push(b(this));b(this).prop("title");var d=0<b(this).next(".wp-caption-text").length?b(this).next(".wp-caption-text").html():b(this).children("img").prop("alt");a.push({src:b(this).prop("href"),title:d,type:"image"});return b(this)}}).each(function(d){if(0<c.length)b(this).on("click",function(c){c.preventDefault();var e=b(this);c={items:{src:a[d].src,title:a[d].title},type:"image"};0<
e.find("img").length&&b.extend(c,{mainClass:"mfp-with-zoom",zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,easing:"ease-in-out",opener:function(){return e.find("img")}}});ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(c):b.magnificPopup.open(c)})})}),themifyScript.lightbox.lightboxGalleryOn))b("body").on("click",ThemifyGallery.config.lightboxGallery,function(a){if("image"===ThemifyGallery.getFileType(b(this).prop("href"))){a.preventDefault();var c=b(ThemifyGallery.config.lightboxGallery,
b(this).closest(".module, .gallery")),d=[];c.each(function(){var a=b(this).prop("title");0<b(this).parent().next(".gallery-caption").length?a=b(this).parent().next(".wp-caption-text").html():0<b(this).children("img").length?a=b(this).children("img").prop("alt"):0<b(this).find(".gallery-caption").find(".entry-content").length&&(a=b(this).find(".gallery-caption").find(".entry-content").text());d.push({src:b(this).prop("href"),title:a,type:"image"})});a={gallery:{enabled:!0},items:d,mainClass:"mfp-with-zoom",
zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,easing:"ease-in-out",opener:function(a){a=b(c[a.index]);return a.is("img")?a:a.find("img")}}};ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(a,c.index(this)):b.magnificPopup.open(a,c.index(this))}})},countItems:function(a){var c=this.config.context;return"lightbox"===a?b(this.config.lightbox,c).length+b(this.config.lightboxGallery,c).length+b(ThemifyGallery.config.lightboxContentImages,c).length:b(this.config.fullscreen,
c).length+b(ThemifyGallery.config.lightboxContentImages,c).length},isInIframe:function(){return"undefined"!==typeof ThemifyGallery.config.extraLightboxArgs?"undefined"!==typeof ThemifyGallery.config.extraLightboxArgs.displayIframeContentsInParent&&1==ThemifyGallery.config.extraLightboxArgs.displayIframeContentsInParent:!1},getFileType:function(a){return a.match(/\.(gif|jpg|jpeg|tiff|png)(\?fit=\d+(,|%2C)\d+)?$/i)?"image":a.match(/\bajax=true\b/i)?"ajax":"#"===a.substr(0,1)?"inline":"iframe"},isVideo:function(a){return ThemifyGallery.isYoutube(a)||
ThemifyGallery.isVimeo(a)||a.match(/\b.mov\b/i)||a.match(/\b.swf\b/i)},isYoutube:function(a){return a.match(/youtube\.com\/watch/i)||a.match(/youtu\.be/i)},isVimeo:function(a){return a.match(/vimeo\.com/i)},getYoutubePath:function(a){return a.match(/youtu\.be/i)?"//youtube.com/watch?v="+a.match(/youtu\.be\/([^\?]*)/i)[1]:"//youtube.com/watch?v="+ThemifyGallery.getParam("v",a)},getiFrameLink:function(a){"iframe"===ThemifyGallery.getFileType(a)&&null===ThemifyGallery.isVideo(a)&&(a=Themify.UpdateQueryString("iframe",
"true",a));return a},getParam:function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(b);return null==c?"":c[1]},getCustomParams:function(a){a=(a=a.split("?")[1])?"&"+a.replace(/[\\?&]?(v|autoplay)=[^&#]*/g,"").replace(/^&/g,""):"";return"?autoplay=1"+a}}})(jQuery);
